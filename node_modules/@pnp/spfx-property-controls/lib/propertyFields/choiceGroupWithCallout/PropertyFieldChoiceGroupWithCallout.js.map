{"version":3,"sources":["propertyFields/choiceGroupWithCallout/PropertyFieldChoiceGroupWithCallout.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,6BAA+B;AAC/B,oCAAsC;AACtC,8DAGoC;AACpC,0BAA4B;AAE5B,qGAA2F;AAK3F;IAOI,oDAAmB,eAAuB,EAAE,WAA8D;QALnG,SAAI,GAA0B,uCAAqB,CAAC,MAAM,CAAC;QAM9D,IAAI,CAAC,cAAc,GAAG,eAAe,CAAC;QACtC,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;QAE9B,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzD,CAAC;IAEO,4DAAO,GAAf,UAAgB,IAAiB,EAAE,OAAa,EAAE,cAAkE;QAChH,oFAAoF;QACpF,IAAM,OAAO,GAAyB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAqB,UAAA,CAAC;YACnF,MAAM,cACC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,IACrB,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,IACvB;QACN,CAAC,CAAC,CAAC;QACH,IAAM,KAAK,GAAyF,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;QAEzI,IAAM,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,iDAAkC,eAC/D,KAAK,IACR,OAAO,EAAE,OAAO,EAChB,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IACvC,CAAC;QAEH,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAE/B,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,iBAAiB,GAAG,cAAc,CAAC;QAC5C,CAAC;IACL,CAAC;IAEO,6DAAQ,GAAhB,UAAiB,IAAiB;QAC9B,QAAQ,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAEO,+DAAU,GAAlB,UAAmB,MAA0B;QACzC,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;QAC5D,CAAC;IACL,CAAC;IACL,iDAAC;AAAD,CA/CA,AA+CC,IAAA;AAED,6CAAoD,cAAsB,EAAE,UAAqD;IAC7H,MAAM,CAAC,IAAI,0CAA0C,CAAC,cAAc,eAC7D,UAAU,IACb,QAAQ,EAAE,IAAI,EACd,SAAS,EAAE,IAAI,IACjB,CAAC;AACP,CAAC;AAND,kFAMC","file":"propertyFields/choiceGroupWithCallout/PropertyFieldChoiceGroupWithCallout.js","sourcesContent":["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport {\n    IPropertyPaneField,\n    PropertyPaneFieldType\n} from '@microsoft/sp-webpart-base';\nimport * as _ from 'lodash';\n\nimport PropertyFieldToggleWithCalloutHost from './PropertyFieldChoiceGroupWithCalloutHost';\n\nimport {IPropertyFieldChoiceGroupWithCalloutPropsInternal, IPropertyFieldChoiceGroupWithCalloutProps} from './IPropertyFieldChoiceGroupWithCallout';\nimport { IChoiceGroupOption } from 'office-ui-fabric-react/lib/components/ChoiceGroup';\n\nclass PropertyFieldChoiceGroupWithCalloutBuilder implements IPropertyPaneField<IPropertyFieldChoiceGroupWithCalloutPropsInternal> {\n    public targetProperty: string;\n    public type: PropertyPaneFieldType = PropertyPaneFieldType.Custom;\n    public properties: IPropertyFieldChoiceGroupWithCalloutPropsInternal;\n\n    private _onChangeCallback: (targetProperty?: string, newValue?: any) => void;\n\n    public constructor(_targetProperty: string, _properties: IPropertyFieldChoiceGroupWithCalloutPropsInternal) {\n        this.targetProperty = _targetProperty;\n        this.properties = _properties;\n\n        this.properties.onRender = this._render.bind(this);\n        this.properties.onDispose = this._dispose.bind(this);\n    }\n\n    private _render(elem: HTMLElement, context?: any, changeCallback?: (targetProperty?: string, newValue?: any) => void): void {\n        // IPropertyPaneChoiceGroupOption should be manually converted to IChoiceGroupOption\n        const options: IChoiceGroupOption[] = this.properties.options.map<IChoiceGroupOption>(o => {\n            return {\n                ..._.omit(o, ['key']),\n                key: o.key.toString()\n            };\n        });\n        const props: IPropertyFieldChoiceGroupWithCalloutProps = <IPropertyFieldChoiceGroupWithCalloutProps>_.omit(this.properties, ['options']);\n\n        const element = React.createElement(PropertyFieldToggleWithCalloutHost, {\n            ...props,\n            options: options,\n            onChanged: this._onChanged.bind(this)\n        });\n\n        ReactDOM.render(element, elem);\n\n        if (changeCallback) {\n            this._onChangeCallback = changeCallback;\n        }\n    }\n\n    private _dispose(elem: HTMLElement) {\n        ReactDOM.unmountComponentAtNode(elem);\n    }\n\n    private _onChanged(option: IChoiceGroupOption): void {\n        if (this._onChangeCallback) {\n            this._onChangeCallback(this.targetProperty, option.key);\n        }\n    }\n}\n\nexport function PropertyFieldChoiceGroupWithCallout(targetProperty: string, properties: IPropertyFieldChoiceGroupWithCalloutProps): IPropertyPaneField<IPropertyFieldChoiceGroupWithCalloutPropsInternal> {\n    return new PropertyFieldChoiceGroupWithCalloutBuilder(targetProperty, {\n        ...properties,\n        onRender: null,\n        onDispose: null\n    });\n}\n"],"sourceRoot":"../../../src"}