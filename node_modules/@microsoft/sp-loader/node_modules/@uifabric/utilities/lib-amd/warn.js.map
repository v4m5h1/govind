{"version":3,"file":"warn.js","sourceRoot":"../src/","sources":["warn.ts"],"names":[],"mappings":";;;IAAA,IAAI,gBAAgB,GAA4C,SAAS,CAAC;IAI1E;;;;;;;;OAQG;IACH,0BAAoC,aAAqB,EAAE,KAAQ,EAAE,cAA+B;QAClG,KAAK,IAAM,QAAQ,IAAI,cAAc,EAAE;YACrC,IAAI,KAAK,IAAI,QAAQ,IAAI,KAAK,EAAE;gBAC9B,IAAI,kBAAkB,GAAM,aAAa,mBAAc,QAAQ,wCAAqC,CAAC;gBACrG,IAAM,mBAAmB,GAAG,cAAc,CAAC,QAAQ,CAAC,CAAC;gBAErD,IAAI,mBAAmB,EAAE;oBACvB,kBAAkB,IAAI,WAAS,mBAAmB,eAAY,CAAC;iBAChE;gBACD,IAAI,CAAC,kBAAkB,CAAC,CAAC;aAC1B;SACF;IACH,CAAC;IAZD,4CAYC;IAED;;;;;;;OAOG;IACH,+BAAyC,aAAqB,EAAE,KAAQ,EAAE,YAA6B;QACrG,KAAK,IAAM,QAAQ,IAAI,YAAY,EAAE;YACnC,IAAI,KAAK,IAAI,QAAQ,IAAI,KAAK,EAAE;gBAC9B,IAAI,uBAAuB,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;gBACrD,IAAI,uBAAuB,IAAI,uBAAuB,IAAI,KAAK,EAAE;oBAC/D,IAAI,CAAI,aAAa,mBAAc,QAAQ,sCAAiC,YAAY,CAAC,QAAQ,CAAC,6BAA0B,CAAC,CAAC;iBAC/H;aACF;SACF;IACH,CAAC;IATD,sDASC;IAED;;;;;;;;;OASG;IACH,wCACE,aAAqB,EACrB,KAAQ,EACR,aAAuB,EACvB,mBAA2B,EAC3B,SAAkB;QAElB,IAAI,SAAS,KAAK,IAAI,EAAE;YACtB,KAA+B,UAAa,EAAb,+BAAa,EAAb,2BAAa,EAAb,IAAa;gBAAvC,IAAM,gBAAgB,sBAAA;gBACzB,IAAI,CAAC,CAAC,gBAAgB,IAAI,KAAK,CAAC,EAAE;oBAChC,IAAI,CAAI,aAAa,mBAAc,gBAAgB,4BAAuB,mBAAmB,gBAAa,CAAC,CAAC;iBAC7G;aACF;SACF;IACH,CAAC;IAdD,wEAcC;IAED;;;;;OAKG;IACH,cAAqB,OAAe;QAClC,IAAI,gBAAgB,EAAE;YACpB,gBAAgB,CAAC,OAAO,CAAC,CAAC;SAC3B;aAAM,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE;YAClC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACvB;IACH,CAAC;IAND,oBAMC;IAED;;;;;;OAMG;IACH,4BAAmC,eAA2C;QAC5E,gBAAgB,GAAG,eAAe,CAAC;IACrC,CAAC;IAFD,gDAEC","sourcesContent":["let _warningCallback: ((message: string) => void) | undefined = undefined;\r\n\r\nexport type ISettingsMap<T> = { [P in keyof T]?: string };\r\n\r\n/**\r\n * Warns when a deprecated props are being used.\r\n *\r\n * @public\r\n * @param componentName - The name of the component being used.\r\n * @param props - The props passed into the component.\r\n * @param deprecationMap - The map of deprecations, where key is the prop name and the value is\r\n * either null or a replacement prop name.\r\n */\r\nexport function warnDeprecations<P>(componentName: string, props: P, deprecationMap: ISettingsMap<P>): void {\r\n  for (const propName in deprecationMap) {\r\n    if (props && propName in props) {\r\n      let deprecationMessage = `${componentName} property '${propName}' was used but has been deprecated.`;\r\n      const replacementPropName = deprecationMap[propName];\r\n\r\n      if (replacementPropName) {\r\n        deprecationMessage += ` Use '${replacementPropName}' instead.`;\r\n      }\r\n      warn(deprecationMessage);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Warns when two props which are mutually exclusive are both being used.\r\n *\r\n * @public\r\n * @param componentName - The name of the component being used.\r\n * @param props - The props passed into the component.\r\n * @param exclusiveMap - A map where the key is a parameter, and the value is the other parameter.\r\n */\r\nexport function warnMutuallyExclusive<P>(componentName: string, props: P, exclusiveMap: ISettingsMap<P>): void {\r\n  for (const propName in exclusiveMap) {\r\n    if (props && propName in props) {\r\n      let propInExclusiveMapValue = exclusiveMap[propName];\r\n      if (propInExclusiveMapValue && propInExclusiveMapValue in props) {\r\n        warn(`${componentName} property '${propName}' is mutually exclusive with '${exclusiveMap[propName]}'. Use one or the other.`);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Warns when props are required if a condition is met.\r\n *\r\n * @public\r\n * @param componentName - The name of the component being used.\r\n * @param props - The props passed into the component.\r\n * @param requiredProps - The name of the props that are required when the condition is met.\r\n * @param conditionalPropName - The name of the prop that the condition is based on.\r\n * @param condition - Whether the condition is met.\r\n */\r\nexport function warnConditionallyRequiredProps<P>(\r\n  componentName: string,\r\n  props: P,\r\n  requiredProps: string[],\r\n  conditionalPropName: string,\r\n  condition: boolean\r\n): void {\r\n  if (condition === true) {\r\n    for (const requiredPropName of requiredProps) {\r\n      if (!(requiredPropName in props)) {\r\n        warn(`${componentName} property '${requiredPropName}' is required when '${conditionalPropName}' is used.'`);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Sends a warning to console, if the api is present.\r\n *\r\n * @public\r\n * @param message - Warning message.\r\n */\r\nexport function warn(message: string): void {\r\n  if (_warningCallback) {\r\n    _warningCallback(message);\r\n  } else if (console && console.warn) {\r\n    console.warn(message);\r\n  }\r\n}\r\n\r\n/**\r\n * Configures the warning callback. Passing in undefined will reset it to use the default\r\n * console.warn function.\r\n *\r\n * @public\r\n * @param warningCallback - Callback to override the generated warnings.\r\n */\r\nexport function setWarningCallback(warningCallback?: (message: string) => void): void {\r\n  _warningCallback = warningCallback;\r\n}\r\n"]}