{"version":3,"file":"ShimmerElementsGroup.base.js","sourceRoot":"../src/","sources":["components/Shimmer/ShimmerElementsGroup/ShimmerElementsGroup.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { BaseComponent, classNamesFunction } from '../../../Utilities';\nimport { IShimmerElementsGroupProps, IShimmerElementsGroupStyleProps, IShimmerElementsGroupStyles } from './ShimmerElementsGroup.types';\nimport { IRawStyle } from '../../../Styling';\nimport { ShimmerElementType, ShimmerElementsDefaultHeights, IShimmerElement } from '../Shimmer.types';\nimport { ShimmerLine } from '../ShimmerLine/ShimmerLine';\nimport { IShimmerLineStyles } from '../ShimmerLine/ShimmerLine.types';\nimport { ShimmerGap } from '../ShimmerGap/ShimmerGap';\nimport { IShimmerGapStyles } from '../ShimmerGap/ShimmerGap.types';\nimport { ShimmerCircle } from '../ShimmerCircle/ShimmerCircle';\nimport { IShimmerCircleStyles } from '../ShimmerCircle/ShimmerCircle.types';\n\nconst getClassNames = classNamesFunction<IShimmerElementsGroupStyleProps, IShimmerElementsGroupStyles>();\n\n/**\n * {@docCategory Shimmer}\n */\nexport class ShimmerElementsGroupBase extends BaseComponent<IShimmerElementsGroupProps, {}> {\n  public static defaultProps: IShimmerElementsGroupProps = {\n    flexWrap: false\n  };\n\n  private _classNames: { [key in keyof IShimmerElementsGroupStyles]: string };\n\n  constructor(props: IShimmerElementsGroupProps) {\n    super(props);\n  }\n\n  public render(): JSX.Element {\n    const { styles, width, shimmerElements, rowHeight, flexWrap, theme } = this.props;\n\n    this._classNames = getClassNames(styles!, {\n      theme: theme!,\n      flexWrap\n    });\n\n    const height = rowHeight ? rowHeight : this._findMaxElementHeight(shimmerElements ? shimmerElements : []);\n\n    return (\n      // tslint:disable-next-line:jsx-ban-props\n      <div style={{ width: width ? width : 'auto' }} className={this._classNames.root}>\n        {this._getRenderedElements(shimmerElements, height)}\n      </div>\n    );\n  }\n\n  private _getRenderedElements = (shimmerElements?: IShimmerElement[], rowHeight?: number): React.ReactNode => {\n    const renderedElements: React.ReactNode = shimmerElements ? (\n      shimmerElements.map(\n        (elem: IShimmerElement, index: number): JSX.Element => {\n          const { type, ...filteredElem } = elem;\n          switch (elem.type) {\n            case ShimmerElementType.circle:\n              return <ShimmerCircle key={index} {...filteredElem} styles={this._getStyles(elem, rowHeight)} />;\n            case ShimmerElementType.gap:\n              return <ShimmerGap key={index} {...filteredElem} styles={this._getStyles(elem, rowHeight)} />;\n            case ShimmerElementType.line:\n              return <ShimmerLine key={index} {...filteredElem} styles={this._getStyles(elem, rowHeight)} />;\n          }\n        }\n      )\n    ) : (\n      <ShimmerLine height={ShimmerElementsDefaultHeights.line} styles={{ root: [{ borderWidth: '0px' }] }} />\n    );\n\n    return renderedElements;\n  };\n\n  private _getStyles = (elem: IShimmerElement, rowHeight?: number): IShimmerCircleStyles | IShimmerGapStyles | IShimmerLineStyles => {\n    const { backgroundColor } = this.props;\n    const { verticalAlign, type } = elem;\n    const elemHeight: number | undefined = elem.height;\n    const dif: number = rowHeight && elemHeight ? rowHeight - elemHeight : 0;\n\n    let borderStyle: IRawStyle | undefined;\n\n    if (!verticalAlign || verticalAlign === 'center') {\n      borderStyle = {\n        borderBottomWidth: `${dif ? Math.floor(dif / 2) : 0}px`,\n        borderTopWidth: `${dif ? Math.ceil(dif / 2) : 0}px`\n      };\n    } else if (verticalAlign && verticalAlign === 'top') {\n      borderStyle = {\n        borderBottomWidth: `${dif ? dif : 0}px`,\n        borderTopWidth: `0px`\n      };\n    } else if (verticalAlign && verticalAlign === 'bottom') {\n      borderStyle = {\n        borderBottomWidth: `0px`,\n        borderTopWidth: `${dif ? dif : 0}px`\n      };\n    }\n\n    if (backgroundColor) {\n      switch (type) {\n        case ShimmerElementType.circle:\n          return {\n            root: { ...borderStyle, borderColor: backgroundColor },\n            svg: { fill: backgroundColor }\n          };\n        case ShimmerElementType.gap:\n          return {\n            root: { ...borderStyle, borderColor: backgroundColor, backgroundColor: backgroundColor }\n          };\n        case ShimmerElementType.line:\n          return {\n            root: { ...borderStyle, borderColor: backgroundColor },\n            topLeftCorner: { fill: backgroundColor },\n            topRightCorner: { fill: backgroundColor },\n            bottomLeftCorner: { fill: backgroundColor },\n            bottomRightCorner: { fill: backgroundColor }\n          };\n      }\n    }\n\n    return {\n      root: { ...borderStyle }\n    };\n  };\n\n  /**\n   * User should not worry to provide which of the elements is the highest, we do the calculation for him.\n   * Plus if user forgot to specify the height we assign their defaults.\n   */\n  private _findMaxElementHeight = (elements: IShimmerElement[]): number => {\n    const itemsDefaulted: IShimmerElement[] = elements.map(\n      (elem: IShimmerElement): IShimmerElement => {\n        switch (elem.type) {\n          case ShimmerElementType.circle:\n            if (!elem.height) {\n              elem.height = ShimmerElementsDefaultHeights.circle;\n            }\n          case ShimmerElementType.line:\n            if (!elem.height) {\n              elem.height = ShimmerElementsDefaultHeights.line;\n            }\n          case ShimmerElementType.gap:\n            if (!elem.height) {\n              elem.height = ShimmerElementsDefaultHeights.gap;\n            }\n        }\n        return elem;\n      }\n    );\n\n    const rowHeight = itemsDefaulted.reduce((acc: number, next: IShimmerElement): number => {\n      return next.height ? (next.height > acc ? next.height : acc) : acc;\n    }, 0);\n\n    return rowHeight;\n  };\n}\n"]}