{"version":3,"sources":["controls/dateTimePicker/DateTimePicker.tsx"],"names":[],"mappings":"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","file":"controls/dateTimePicker/DateTimePicker.js","sourcesContent":["import * as React from \"react\";\nimport { isEqual } from '@microsoft/sp-lodash-subset';\nimport { TimeConvention, DateConvention } from \"./DateTimeConventions\";\nimport { DatePicker } from \"office-ui-fabric-react/lib/DatePicker\";\nimport { Label } from \"office-ui-fabric-react/lib/Label\";\nimport { IDropdownOption } from \"office-ui-fabric-react/lib/Dropdown\";\nimport * as strings from \"ControlStrings\";\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\nimport styles from \"./DateTimePicker.module.scss\";\nimport HoursComponent from \"./HoursComponent\";\nimport MinutesComponent from \"./MinutesComponent\";\nimport SecondsComponent from \"./SecondsComponent\";\nimport * as telemetry from \"../../common/telemetry\";\nimport { Async, css } from 'office-ui-fabric-react/lib/Utilities';\nimport { IDateTimePickerProps, IDateTimePickerState, DateTimePickerStrings } from \".\";\nimport { TimeHelper } from \"./TimeHelper\";\n\ninterface IDateComponents {\n  day: Date;\n  hours: number;\n  minutes: number;\n  seconds: number;\n}\n\n/**\n * Renders the controls for DateTimePicker component\n */\nexport class DateTimePicker extends React.Component<IDateTimePickerProps, IDateTimePickerState> {\n  private _latestValidateValue: number = NaN;\n  private async: Async;\n  private delayedValidate: (value: Date) => void;\n\n  /**\n   * Constructor\n   */\n  constructor(props: IDateTimePickerProps) {\n    super(props);\n    telemetry.track('ReactDateTimePicker', {\n      dateConvention: props.dateConvention ? DateConvention[props.dateConvention] : '',\n      formatDate: !!props.formatDate,\n      timeConvention: props.timeConvention ? TimeConvention[props.timeConvention] : '',\n      disabled: props.disabled\n    });\n\n    // Get the current date/time values\n    const { value = null } = this.props;\n    const { day, hours, minutes, seconds } = DateTimePicker.getDateComponents(value, props.dateConvention);\n\n    // Set the current state\n    this.state = {\n      day,\n      hours,\n      minutes,\n      seconds,\n      errorMessage: ''\n    };\n\n    this.async = new Async(this);\n    this.delayedValidate = this.async.debounce(this.validate, props.deferredValidationTime);\n  }\n\n  /**\n   * Called when the component will unmount\n   */\n  public componentWillUnmount() {\n    this.async.dispose();\n  }\n\n  /**\n   * Called before the component receives new props, used for matching state with new props.\n   */\n  public componentWillReceiveProps(nextProps: IDateTimePickerProps): void {\n    if (nextProps.value != null && !isEqual(nextProps.value, this.props.value)) {\n      const { day, hours, minutes, seconds } = DateTimePicker.getDateComponents(nextProps.value, this.props.dateConvention);\n      this.setState({ day, hours, minutes, seconds });\n    }\n  }\n\n  /**\n   * Get the components of a Date object matching the DateConvention settings\n   * @param date Date to extract components from\n   * @param dateConvention DateConvention to follow when extracting date components\n   */\n  private static getDateComponents(date: Date, dateConvention: DateConvention): IDateComponents {\n    const day: Date | null = TimeHelper.cloneDate(date);\n    const hours: number = dateConvention !== DateConvention.Date && day !== null ? day.getHours() : 0;\n    const minutes: number = dateConvention !== DateConvention.Date && day !== null ? day.getMinutes() : 0;\n    const seconds: number = dateConvention !== DateConvention.Date && day !== null ? day.getSeconds() : 0;\n    if (day !== null) {\n      day.setHours(hours);\n      day.setMinutes(minutes);\n      day.setSeconds(seconds);\n    }\n    return { day, hours, minutes, seconds };\n  }\n\n  /**\n   * Function called when the DatePicker Office UI Fabric component selected date changed\n   */\n  private onSelectDate = (date: Date): void => {\n    if (!TimeHelper.isValidDate(date)) {\n      return;\n    }\n    // Get hours, minutes and seconds from state or default to zero\n    const { hours = 0, minutes = 0, seconds = 0 } = this.state;\n    const day = TimeHelper.cloneDate(date);\n    day.setHours(hours);\n    day.setMinutes(minutes);\n    day.setSeconds(seconds);\n    this.setState({ day }, () => this.delayedValidate(this.state.day));\n  }\n\n\n\n  /**\n   * Function called when hours value have been changed\n   * @param element Hours dropdown value\n   */\n  private dropdownHoursChanged = (value?: string): void => {\n    this.setState(({ day }) => {\n      const hoursSplit = value.split(\" \");\n      const hoursValue = hoursSplit[0].length > 2 ? hoursSplit[0].substring(0, 2) : hoursSplit[0];\n      let hours: number = parseInt(hoursValue);\n      if (isNaN(hours)) {\n        return;\n      }\n\n      if (this.props.timeConvention !== TimeConvention.Hours24) {\n        if (hoursSplit[1] && hoursSplit[1].toLowerCase().indexOf(\"pm\") !== -1) {\n          hours += 12;\n          if (hours === 24) {\n            hours = 0;\n          }\n        }\n      }\n\n      if (hours > 23) {\n        return;\n      }\n\n      const state: Partial<IDateTimePickerState> = { hours };\n      const date: Date = TimeHelper.cloneDate(day);\n      if (date) {\n        date.setHours(hours);\n        state.day = date;\n      }\n      return state;\n    }, () => this.delayedValidate(this.state.day));\n  }\n\n  /**\n   * Function called when minutes value have been changed\n   * @param element Minutes dropdown value\n   */\n  private dropdownMinutesChanged = (value?: string): void => {\n    this.setState(({ day }) => {\n      const minutes: number = parseInt(value.length > 2 ? value.substring(0, 2) : value);\n      const state: Partial<IDateTimePickerState> = { minutes };\n      const date: Date = TimeHelper.cloneDate(day);\n      if (date) {\n        date.setMinutes(minutes);\n        state.day = date;\n      }\n      return state;\n    }, () => this.delayedValidate(this.state.day));\n  }\n\n  /**\n   * Function called when seconds value have been changed\n   * @param element Seconds dropdown value\n   */\n  private dropdownSecondsChanged = (value?: string): void => {\n    this.setState(({ day }) => {\n      const seconds: number = parseInt(value.length > 2 ? value.substring(0, 2) : value);\n      const state: Partial<IDateTimePickerState> = { seconds };\n      const date: Date = TimeHelper.cloneDate(day);\n      if (date) {\n        date.setSeconds(seconds);\n        state.day = date;\n      }\n      return state;\n    }, () => this.delayedValidate(this.state.day));\n  }\n\n  /**\n   * Renders the control\n   */\n  public render(): JSX.Element {\n    // use date value from props if it exists, otherwise use internal state\n    // if no dateConvention is set, default is DateConvention.DateTime\n    const {\n      label,\n      disabled,\n      timeConvention,\n      dateConvention = DateConvention.DateTime,\n      firstDayOfWeek,\n      isMonthPickerVisible = true,\n      showGoToToday,\n      showMonthPickerAsOverlay = false,\n      showWeekNumbers = false,\n      showSeconds = false,\n      formatDate,\n      value = this.state.day,\n      strings: dateStrings = new DateTimePickerStrings() // Defines the DatePicker control labels\n    } = this.props;\n\n    const hours: number = value != null ? value.getHours() : this.state.hours;\n    const minutes: number = value != null ? value.getMinutes() : this.state.minutes;\n    const seconds: number = value != null ? value.getSeconds() : this.state.seconds;\n\n    // Check if the time element needs to be rendered\n    let timeElm: JSX.Element = <div className=\"hidden\" />;\n\n    if (dateConvention === DateConvention.DateTime) {\n      timeElm = (\n        <div className={css(styles.row, styles.timeRow)}>\n          <div className={styles.labelCell}><Label className={styles.fieldLabel}>{strings.DateTimePickerTime}</Label></div>\n\n          <div className={styles.time}>\n            <div className={styles.picker}>\n              <HoursComponent disabled={disabled}\n                              timeConvention={timeConvention}\n                              value={hours}\n                              onChange={this.dropdownHoursChanged} />\n            </div>\n\n            <div className={styles.separator}>\n              <Label>{dateStrings.timeSeparator}</Label>\n            </div>\n\n            <div className={styles.picker}>\n              <MinutesComponent disabled={disabled}\n                                value={minutes}\n                                onChange={this.dropdownMinutesChanged} />\n            </div>\n\n            {\n              showSeconds && (\n                <div className={styles.separator}>\n                  <Label>{dateStrings.timeSeparator}</Label>\n                </div>\n              )\n            }\n\n            {\n              showSeconds && (\n                <div className={styles.picker}>\n                  <SecondsComponent disabled={disabled}\n                                    value={seconds}\n                                    onChange={this.dropdownSecondsChanged} />\n                </div>\n              )\n            }\n          </div>\n        </div>);\n    }\n\n    // Renders content\n    return (\n      <div className={styles.dateTimePicker}>\n        {\n          label && <Label>{label}</Label>\n        }\n\n        <div className={styles.container}>\n          <div className={styles.row}>\n            <div className={styles.labelCell}>\n              <Label className={styles.fieldLabel}>{strings.DateTimePickerDate}</Label>\n            </div>\n\n            <div className={styles.picker}>\n              <DatePicker\n                formatDate={formatDate}\n                disabled={disabled}\n                value={value}\n                strings={dateStrings}\n                isMonthPickerVisible={true}\n                onSelectDate={this.onSelectDate}\n                allowTextInput={false}\n                firstDayOfWeek={firstDayOfWeek}\n                showGoToToday={showGoToToday}\n                showMonthPickerAsOverlay={showMonthPickerAsOverlay}\n                showWeekNumbers={showWeekNumbers}\n              />\n            </div>\n          </div>\n\n          {timeElm}\n        </div>\n\n        <ErrorMessage errorMessage={this.state.errorMessage} />\n      </div>\n    );\n  }\n\n  /**\n   * Validates the new custom field value\n   */\n  private validate = (dateVal: Date): void => {\n    if (typeof this.props.onGetErrorMessage === 'undefined' || this.props.onGetErrorMessage === null) {\n      this.notifyAfterValidate(this.props.value, dateVal);\n      return;\n    }\n\n    const timestamp = dateVal.getTime();\n\n    if (this._latestValidateValue === timestamp) {\n      return;\n    }\n\n    this._latestValidateValue = timestamp;\n\n    const result: string | PromiseLike<string> = this.props.onGetErrorMessage(dateVal);\n    if (typeof result !== 'undefined') {\n      if (typeof result === 'string') {\n        if (result === '') {\n          this.notifyAfterValidate(this.props.value, dateVal);\n        }\n\n        this.setState({\n          errorMessage: result\n        });\n      } else {\n        result.then((errorMessage: string) => {\n          if (typeof errorMessage === 'undefined' || errorMessage === '') {\n            this.notifyAfterValidate(this.props.value, dateVal);\n          }\n\n          this.setState({\n            errorMessage: errorMessage\n          });\n        });\n      }\n    } else {\n      this.notifyAfterValidate(this.props.value, dateVal);\n    }\n  }\n\n  /**\n   * Notifies the parent Web Part of a property value change\n   */\n  private notifyAfterValidate = (oldValue: Date, newValue: Date) => {\n    if (typeof this.props.onChange !== 'undefined' && this.props.onChange !== null && newValue !== null) {\n      this.props.onChange(newValue);\n    }\n  }\n}\n"],"sourceRoot":"../../../src"}